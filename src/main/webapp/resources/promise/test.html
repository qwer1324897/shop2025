<meta charset="UTF-8">
<script type="text/javascript">
/*
 전통적인 자바스크립트로 콜백을 중첩해 나가다 보면 콜백 처리 코드가 복잡해진다.(콜백 지옥)
 전통적인 콜백 중첩 방식의 문제점
 	- 콜백 안에 콜백이 중첩되어 코드가 복잡해지고 유지보수성이 떨어짐
 	- 예외처리가 java 처럼 하나의 catch 블럭으로 통일이 안 된다.
 	
 따라서 현재 프론트엔드 분야에서는 이 문제들을 해결하기 위해 ES6 부터 Promise 가 도입되어 사용된다.
 
 Promise 란
 비동기 처리 실행 시 미래에 대한 약속 처리 객체.
 
 Promise 객체의 상태값
 프라미스는 미래의 비동기작업 업무의 상태를 보관할 수 있는데, 아래와 같이 3가지 유형의 값을 갖는다
 	- pending: 아직 완료되지 않은 상태(디폴트 값)
 	- fulfilled:  비동기 업무가 성공했을 때 갖는 값
 	- rejected: 비동기 업무가 실패했을 때 갖는 값
 
*/
	let p = new Promise(function(resolve, reject) {
		// 이때 resolve 와 reject 는 a,b로 놓아도 된다. 변수명이 무엇이든 앞에 오는 건 fulfilled, 뒤는 reject 기능을 수행한다.
		// 비동기로 처리하고싶은 코드를 작성.
		
		setTimeout(function() {
			resolve();
		}, 3000);
		
		// 만일 비동기 요청의 내용이 네트워크 작업일 경우
		// 서버의 응답 정보를 성공적으로 가져왔는지, 실패했는지 따져보아야 한다.
//		resolve();	// 첫번 째 매개변수로 전달된 함수를 호출했으므로((a,b) 일 경우, a(); << 이렇게 해도 상관 X) 이 함수는 Promise 의 상태를 fulfilled로 놓는다.
		// resolve() 를 호출하면, 비동기 코드가 완료되었을 때 Promise 가 보유한 then() 메서드를 자동으로 호출한다.
		// reject() 를 호출하면, 비동기 코드가 완료되었을 때 Promise 가 보유한 catch() 메서드를 자동으로 호출한다.
//		reject();
	});
	
	p.then(function() {
		console.log("비동기 업무가 성공됨.");
	});
	
	p.catch(function(){
		console.log("비동기 업무가 실패됨.");
	});

</script>











